webpackJsonp([1],{28:function(t,e,a){"use strict";var r=a(4),i=a(86),s=a(78),n=a.n(s),l=a(79),o=a.n(l);r.a.use(i.a),e.a=new i.a({routes:[{path:"/",name:"Errors",component:n.a},{path:"/performance",name:"Performace",component:o.a}]})},29:function(t,e){},30:function(t,e,a){a(72);var r=a(2)(a(36),a(82),null,null);t.exports=r.exports},32:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(4),i=a(9),s=a.n(i),n=a(30),l=a.n(n),o=a(28),_=a(29);a.n(_);r.a.use(s.a),r.a.config.productionTip=!1,new r.a({el:"#app",router:o.a,template:"<App/>",components:{App:l.a}})},34:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"error-list",props:["errorData"],data:function(){return{detail:{}}},methods:{showDetail:function(t,e){this.detail=t,this.$rubik.bridge.pub("modal:open:"+e)},close:function(t){this.$rubik.bridge.pub("modal:close:"+t)}}},t.exports=e.default},35:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"performance-list",props:["perfData"],data:function(){return{detail:{}}},methods:{showDetail:function(t,e){this.detail=t,this.$rubik.bridge.pub("modal:open:"+e)},close:function(t){this.$rubik.bridge.pub("modal:close:"+t)}}},t.exports=e.default},36:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",mounted:function(){this.$rubik.init()}},t.exports=e.default},38:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(76),s=r(i),n=a(27),l=r(n);a(17),e.default={name:"errors",data:function(){return{errors:{},api:"",search:{link:"",date:""},url:{latest:"/errors/latest",day:"/errors/day/",link:"/errors/link/"},page:{total:0,limit:5}}},components:{ErrorList:s.default},created:function(){this.api=this.url.latest,this.fetchErrors()},methods:{selDate:function(){var t=this.search.date.replace(/-/g,"");this.api=""+this.url.day+t,this.fetchErrors(1)},searchLink:function(){var t=encodeURIComponent(this.search.link);this.api=""+this.url.link+t+"?days=5",this.fetchErrors(1)},fetchErrors:function(t){var e=this,a=l.default.stringify({page:t||1,limit:this.page.limit}),r=this.api+"?"+a;this.api.indexOf("?")>0&&(r=this.api+"&"+a),fetch(r).then(function(t){return t.json()}).then(function(t){t.err||(e.errors=t.data,e.page.total=t.page.total)})}}},t.exports=e.default},39:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(77),s=r(i),n=a(27),l=r(n);a(17),e.default={name:"Performance",data:function(){return{perfs:{},api:"",search:{link:"",date:""},url:{latest:"/performance/latest",day:"/performance/day/",link:"/performance/link/"},page:{total:0,limit:30},loading:!1}},components:{PerfList:s.default},created:function(){this.api=this.url.latest,this.fetchErrors()},methods:{selDate:function(){var t=this.search.date.replace(/-/g,"");this.api=""+this.url.day+t,this.fetchErrors(1)},searchLink:function(){var t=encodeURIComponent(this.search.link);this.api=""+this.url.link+t+"?days=5",this.fetchErrors(1)},fetchErrors:function(t){var e=this;this.loading=!0;var a=l.default.stringify({page:t||1,limit:this.page.limit}),r=this.api+"?"+a;this.api.indexOf("?")>0&&(r=this.api+"&"+a),fetch(r).then(function(t){return t.json()}).then(function(t){e.loading=!1,t.err||(e.perfs=t.data,e.page.total=t.page.total)})}}},t.exports=e.default},70:function(t,e){},72:function(t,e){},73:function(t,e){},76:function(t,e,a){var r=a(2)(a(34),a(85),null,null);t.exports=r.exports},77:function(t,e,a){var r=a(2)(a(35),a(83),null,null);t.exports=r.exports},78:function(t,e,a){a(73);var r=a(2)(a(38),a(84),"data-v-5f7bd40d",null);t.exports=r.exports},79:function(t,e,a){a(70);var r=a(2)(a(39),a(80),"data-v-13c653f4",null);t.exports=r.exports},80:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-content perfs"},[a("p",[a("span",[t._v("按日期查询")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.date,expression:"search.date"}],staticClass:"input-date",attrs:{type:"date",placeholder:"按日期查询"},domProps:{value:t.search.date},on:{change:t.selDate,input:function(e){e.target.composing||(t.search.date=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"link-search"},[a("r-input",{staticClass:"link-input",attrs:{type:"text",placeholder:"搜索链接（前五日历史数据）"},model:{value:t.search.link,callback:function(e){t.search.link=e},expression:"search.link"}}),t._v(" "),a("r-btn",{attrs:{info:"",small:""},nativeOn:{click:function(e){t.searchLink(e)}}},[a("r-icon",[t._v("search")])],1)],1),t._v(" "),a("PerfList",{attrs:{perfData:t.perfs}}),t._v(" "),t.page.total>1?a("r-pagination",{staticClass:"fl",attrs:{total:t.page.total,cur:t.page.current,cb:t.fetchErrors}}):t._e(),t._v(" "),a("r-loader",{attrs:{half:"",show:t.loading}})],1)},staticRenderFns:[]}},82:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content",attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},83:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"error-list"},[a("h2",{staticClass:"date-title"},[t._v(t._s(t.perfData.date))]),t._v(" "),a("table",{staticClass:" bordered highlight striped"},[t._m(0),t._v(" "),a("tbody",t._l(t.perfData.perfs,function(e){return a("tr",[a("td",[a("a",{attrs:{target:"_blank",href:e.link}},[t._v(t._s(e.link))])]),t._v(" "),a("td",{staticClass:"light-green-text"},[a("b",[t._v(t._s(e.total))])]),t._v(" "),a("td",[t._v(t._s(e.title))]),t._v(" "),a("td",[t._v(t._s(e.os))]),t._v(" "),a("td",[t._v(t._s(e.time))]),t._v(" "),a("td",[a("r-btn",{attrs:{info:"",small:""},nativeOn:{click:function(a){t.showDetail(e,"modalDetail")}}},[t._v("详情")])],1)])}))]),t._v(" "),a("r-modal",{staticClass:"detail-content",attrs:{id:"modalDetail"}},[a("r-card",[a("ol",{staticClass:"detail-list"},[a("li",[a("b",[t._v("链接: ")]),t._v(" "),a("a",{attrs:{target:"_blank",href:t.detail.link}},[t._v(t._s(t.detail.link))])]),t._v(" "),a("li",[a("b",[t._v("性能统计：")]),a("br"),t._v(" "),a("table",{staticClass:"highlight bordered narrow"},[a("thead",[a("tr",[a("th",[t._v("total")]),t._v(" "),a("th",[t._v("domReady")]),t._v(" "),a("th",[t._v("readyStart")]),t._v(" "),a("th",[t._v("redirect")]),t._v(" "),a("th",[t._v("appcache")]),t._v(" "),a("th",[t._v("unloadEvent")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v(t._s(t.detail.total))]),t._v(" "),a("td",[t._v(t._s(t.detail.domReady))]),t._v(" "),a("td",[t._v(t._s(t.detail.readyStart))]),t._v(" "),a("td",[t._v(t._s(t.detail.redirect))]),t._v(" "),a("td",[t._v(t._s(t.detail.appcache))]),t._v(" "),a("td",[t._v(t._s(t.detail.unloadEvent))])])]),t._v(" "),a("thead",[a("tr",[a("th",[t._v("dnsLookup")]),t._v(" "),a("th",[t._v("connect")]),t._v(" "),a("th",[t._v("request")]),t._v(" "),a("th",[t._v("initDomTree")]),t._v(" "),a("th",[t._v("loadEvent")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v(t._s(t.detail.dnsLookup))]),t._v(" "),a("td",[t._v(t._s(t.detail.connect))]),t._v(" "),a("td",[t._v(t._s(t.detail.request))]),t._v(" "),a("td",[t._v(t._s(t.detail.initDomTree))]),t._v(" "),a("td",[t._v(t._s(t.detail.loadEvent))])])])])]),t._v(" "),a("li",[a("b",[t._v("标题: ")]),t._v(" "+t._s(t.detail.title))]),t._v(" "),a("li",[a("b",[t._v("系统: ")]),t._v(" "+t._s(t.detail.os))]),t._v(" "),a("li",[a("b",[t._v("UA: ")]),t._v(" "+t._s(t.detail.ua))]),t._v(" "),a("li",[a("b",[t._v("IP: ")]),t._v(" "+t._s(t.detail.ip))]),t._v(" "),a("li",[a("b",[t._v("宽*高: ")]),t._v(" "+t._s(t.detail.size))]),t._v(" "),t.detail.referer?a("li",[a("b",[t._v("Referer: ")]),t._v(" "+t._s(t.detail.referer))]):t._e(),t._v(" "),a("li",[a("b",[t._v("客户端时间: ")]),t._v(" "+t._s(t.detail.time)+"\n          "),a("b",[t._v("服务端时间: ")]),t._v(" "+t._s(t.detail.date)+"\n        ")]),t._v(" "),a("li",[t._v(t._s(t.detail.other))])]),t._v(" "),a("r-card-row",{attrs:{actions:"actions"}},[a("r-placeholder"),t._v(" "),a("r-btn",{staticClass:"blue white-text",nativeOn:{click:function(e){t.close("modalDetail")}}},[t._v("确认")])],1)],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("链接")]),t._v(" "),a("th",[t._v("总加载时长")]),t._v(" "),a("th",[t._v("标题")]),t._v(" "),a("th",[t._v("系统")]),t._v(" "),a("th",[t._v("客户端时间")]),t._v(" "),a("th",[t._v("详细")])])])}]}},84:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-content errors"},[a("p",[a("span",[t._v("按日期查询")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.date,expression:"search.date"}],staticClass:"input-date",attrs:{type:"date",placeholder:"按日期查询"},domProps:{value:t.search.date},on:{change:t.selDate,input:function(e){e.target.composing||(t.search.date=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"link-search"},[a("r-input",{staticClass:"link-input",attrs:{type:"text",placeholder:"搜索链接（前五日历史数据）"},model:{value:t.search.link,callback:function(e){t.search.link=e},expression:"search.link"}}),t._v(" "),a("r-btn",{attrs:{info:"",small:""},nativeOn:{click:function(e){t.searchLink(e)}}},[a("r-icon",[t._v("search")])],1)],1),t._v(" "),a("ErrorList",{attrs:{errorData:t.errors}}),t._v(" "),t.page.total>1?a("r-pagination",{staticClass:"fl",attrs:{total:t.page.total,cur:t.page.current,cb:t.fetchErrors}}):t._e()],1)},staticRenderFns:[]}},85:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"error-list"},[a("h2",{staticClass:"date-title"},[t._v(t._s(t.errorData.date))]),t._v(" "),a("table",{staticClass:" bordered highlight striped"},[t._m(0),t._v(" "),a("tbody",t._l(t.errorData.errs,function(e){return a("tr",[a("td",[a("a",{attrs:{target:"_blank",href:e.link}},[t._v(t._s(e.link))])]),t._v(" "),a("td",[t._v(t._s(e.title))]),t._v(" "),a("td",[t._v(t._s(e.os))]),t._v(" "),a("td",{staticClass:"red-text"},[t._v(t._s(e.msg))]),t._v(" "),a("td",[t._v(t._s(e.time))]),t._v(" "),a("td",[a("r-btn",{attrs:{info:"",small:""},nativeOn:{click:function(a){t.showDetail(e,"modalDetail")}}},[t._v("详情")])],1)])}))]),t._v(" "),a("r-modal",{staticClass:"detail-content",attrs:{id:"modalDetail"}},[a("r-card",[a("ol",{staticClass:"detail-list"},[a("li",[a("b",[t._v("链接: ")]),t._v(" "),a("a",{attrs:{target:"_blank",href:t.detail.link}},[t._v(t._s(t.detail.link))])]),t._v(" "),a("li",[a("b",[t._v("异常信息：")]),a("br"),t._v(" "),a("p",[a("a",{attrs:{target:"_blank",href:t.detail.url}},[t._v(t._s(t.detail.url))]),t._v(" "),a("span",[t._v("at line: "+t._s(t.detail.line)+"  column: "+t._s(t.detail.col))]),t._v(" "),a("a",{attrs:{target:"_blank",href:"/translate.html?line="+t.detail.line+"&col="+t.detail.col}},[t._v("源码翻译")])]),t._v(" "),a("p",{staticClass:"red-text"},[t._v(t._s(t.detail.msg))]),t._v(" "),a("pre",{staticClass:"red-text",domProps:{innerHTML:t._s(t.detail.errStack)}})]),t._v(" "),a("li",[a("b",[t._v("标题: ")]),t._v(" "+t._s(t.detail.title))]),t._v(" "),a("li",[a("b",[t._v("系统: ")]),t._v(" "+t._s(t.detail.os))]),t._v(" "),a("li",[a("b",[t._v("UA: ")]),t._v(" "+t._s(t.detail.ua))]),t._v(" "),a("li",[a("b",[t._v("IP: ")]),t._v(" "+t._s(t.detail.ip))]),t._v(" "),a("li",[a("b",[t._v("宽*高: ")]),t._v(" "+t._s(t.detail.size))]),t._v(" "),t.detail.referer?a("li",[a("b",[t._v("Referer: ")]),t._v(" "+t._s(t.detail.referer))]):t._e(),t._v(" "),a("li",[a("b",[t._v("客户端时间: ")]),t._v(" "+t._s(t.detail.time)+"\n          "),a("b",[t._v("服务端时间: ")]),t._v(" "+t._s(t.detail.date)+"\n        ")]),t._v(" "),a("li",[t._v(t._s(t.detail.other))])]),t._v(" "),a("r-card-row",{attrs:{actions:"actions"}},[a("r-placeholder"),t._v(" "),a("r-btn",{staticClass:"blue white-text",nativeOn:{click:function(e){t.close("modalDetail")}}},[t._v("确认")])],1)],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("链接")]),t._v(" "),a("th",[t._v("标题")]),t._v(" "),a("th",[t._v("系统")]),t._v(" "),a("th",[t._v("异常信息")]),t._v(" "),a("th",[t._v("客户端时间")]),t._v(" "),a("th",[t._v("详细")])])])}]}}},[32]);